{#=== OPTIONS ========================================================================================================#}

{% set option = {
    class:  ('form-control ' ~ field.class)|trim,
    label:  field.label,
    info:   field.info|default('')
} %}

{#=== INIT ===========================================================================================================#}

{% set attr_checkbox = {
    checked:  context.content.get(contentkey),
    class:    option.class,
    name:     name,
    id:       key,
    type:     'checkbox',
    value:    '1'
} %}

{#=== FIELDSET =======================================================================================================#}

{% extends '_base/_fieldset.twig' %}

{% block fieldset_type 'checkbox' %}

{% block fieldset_label %}
    <label class="col-md-3" for="{{ key }}">
        {{ (option.info) ? macro.infopop(labelkey, option.info) : labelkey }}
    </label>
{% endblock fieldset_label %}

{% block fieldset_controls %}
    <div class="col-md-9">
        <div class="checkbox">
            <label><input{{ macro.attr(attr_checkbox) }}><button type="button" onclick="var x=$(this).prev();x.prop('checked', !x.prop('checked'));"></button></label>
        </div>
    </div>
{% endblock fieldset_controls %}
